<odoo>
  <data>

    <!-- Top menu item -->
    <menuitem name="Mission" id="be_mission" groups="base.group_user" sequence="10"/>

    <!-- menu categories -->

    <menuitem name="Mission Externe" id="be_mission_extern" parent="be_mission" sequence="10" />
    <menuitem name="Mission Interne" id="be_mission_interne" parent="be_mission" sequence="20" />
    <menuitem name="Mission Ordinaire" id="be_mission_ordinaire" parent="be_mission" sequence="30"/>
    <menuitem name="Reporting Tecket" id="be_mission_report_teckit" parent="be_mission" sequence="40"/>

    <!-- Mission Externe-->
    <!-- form view Mission Externe -->
    <record id="mission_form_view" model="ir.ui.view">
      <field name="name">mission_view_form</field>
      <field name="model">mission.externe</field>
      <field name="arch" type="xml">
        <form string="Mission">
          <field name="mission" invisible="1" />
          <sheet>
            <div class="oe_title">
              <h1>
                <field name="name" readonly="1"/>
              </h1>
            </div>
            <group>
              <group>
                <field name="person_name" />
                <field name="passport" />
                <field name="test_c"/>
              </group>
              <group>
                <field name="date_arriver" attrs="{'invisible':[('mission', 'not in',('externe_ar'))] }"/>
                <field name="date_depart" attrs="{'invisible':[('mission', 'not in',('externe_de'))] }"/>
                <field name="date_exp" attrs="{'invisible':[('mission', 'not in',('externe_ar'))] }"/>
                 <field name="date_c" />
                <field name="satisfact" attrs="{'invisible':[('mission', 'not in',('externe_de'))] }" />
              </group>
            </group>
            <group attrs="{'invisible':[('mission', 'not in',('externe_ar'))] }">
              <group>
                <field name="visa"/>
                <field name="date_visa" attrs="{'invisible':[('visa', 'not in',('oui'))] }"/>
              </group>
              <group>
                <field name="l_invitation"/>
                <field name="date_lettre" attrs="{'invisible':[('l_invitation', 'not in',('oui'))] }"/>
              </group>
            </group>
            <group attrs="{'invisible':[('mission', 'not in',('externe_ar'))] }">
              <field name="objet" string="Objet Mission" />
            </group>
            <group>
              <group attrs="{'invisible':[('mission', 'not in',('externe_ar'))] }">
                <field name="post_v" />
                <field name="hotel" />
                <field name="frais_h" />
                <field name="commentaire" attrs="{'invisible':[('frais_h', 'not in',('autres'))] }" />
              </group>
              <group attrs="{'invisible':[('mission', 'not in',('externe_ar'))] }">
                <field name="duree_s" />

                <field name="duree_h" />
                <field name="chauffeur" />
              </group>
            </group>
            <group attrs="{'invisible':[('chauffeur', '==', False)] }">
              <group>
                <field name="n_chauffeur" />
                <field name="chauffeur_cont" />
              </group>
              <group attrs="{'invisible':[('mission', 'not in',('externe_ar'))] }">
                <field name="matricule" />
                <field name="duree_b" />
              </group>
            </group>
            <group attrs="{'invisible':[('mission', 'not in',('externe_ar'))] }">
              <group>
                <field name="responsable" />
              </group>
              <group>
                <field name="post" />
              </group>
            </group>
            <group attrs="{'invisible':[('mission', 'not in',('externe_de'))] }">

            </group>
          </sheet>
          <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="message_ids" widget="mail_thread"/>
          </div>
        </form>
      </field>
    </record>

    <!-- treeview Mission Externe-->
    <record model="ir.ui.view" id="mission_externe_treeview">
      <field name="name">Mission</field>
      <field name="model">mission.externe</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name" />
          <field name="person_name" />
          <field name="passport"/>
          <field name="date_arriver" attrs="{'invisible':[('mission', 'not in',('externe_ar'))] }"/>
          <field name="date_exp" attrs="{'invisible':[('mission', 'not in',('externe_ar'))] }" />
          <field name="responsable" attrs="{'invisible':[('mission', 'not in',('externe_ar'))] }" />

          <field name="mission" invisible="1" />
        </tree>
      </field>
    </record>

       <!-- Mession externe arrivé action -->
    <record model="ir.actions.act_window" id="mission_externe_ar_action_window">
      <field name="name">Mission Externe Arrivé</field>
      <field name="res_model">mission.externe</field>
      <field name="view_id" ref="mission_externe_treeview"/>
      <field name="domain">[('mission', '=', 'externe_ar')]</field>
      <field name="context">{'default_mission': 'externe_ar'}</field>
      <field name="view_mode">tree,form</field>
    </record>

    <menuitem name="Mission Externe Arrivé" id="be_mission_mission_ext_arrive" parent="be_mission_extern" action="mission_externe_ar_action_window"/>

    <!-- Mession externe retour action-->
    <record model="ir.actions.act_window" id="mission_externe_dep_action_window">
      <field name="name">Mission Externe Départ</field>
      <field name="res_model">mission.externe</field>
      <field name="view_id" ref="mission_externe_treeview"/>
      <field name="domain">[('mission', '=', 'externe_de')]</field>
      <field name="context">{'default_mission': 'externe_de'}</field>
      <field name="view_mode">tree,form</field>
    </record>

    <menuitem name="Mission Externe Départ" id="be_mission_mission_ext_retour" parent="be_mission_extern" action="mission_externe_dep_action_window"/>

    <!-- Mession interne -->
    <!-- treeview Mission Interne-->
    <record model="ir.ui.view" id="mission_interne_treeview">
      <field name="name">Mission</field>
      <field name="model">mission.interne</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name" />
          <field name="employee_id" />
          <field name="passport" attrs="{'invisible':[('mission', 'not in',('interne_all'))]}" />
          <field name="date_creation" />
          <field name="date_exp" attrs="{'invisible':[('mission', 'not in',('interne_all'))]}" />
          <field name="o_mission" attrs="{'invisible':[('mission', 'not in',('interne_all'))]}" />
          <field name="mission" invisible="1" />
        </tree>
      </field>
    </record>

    <!-- form view Mission Interne -->
    <record id="mission_form_view_interne" model="ir.ui.view">
      <field name="name">mission_view_form</field>
      <field name="model">mission.interne</field>
      <field name="arch" type="xml">
        <form string="Mission">
          <field name="mission" invisible="1" />
          <sheet>
            <div class="oe_title">
              <h1>
                <field name="name" readonly="1"/>
              </h1>
            </div>
            <group>
              <group>
                <field name="employee_id" />
                <field name="passport" />
                <field name="test_c" />
                <field name="date_c" attrs="{'invisible':[('test_c', 'not in',('oui'))] }"/>
                <field name="o_mission" attrs="{'invisible':[('mission', 'not in',('interne_dep'))] }"/>
                <field name="date_mission" attrs="{'invisible':[('o_mission', 'not in',('oui'))] }"/>
              </group>
              <group>
                <field name="date_creation" />
                <field name="date_exp"/>
                 <field name="vehicule" attrs="{'invisible':[('mission', 'not in',('interne_ret'))] }"/>

              </group>
            </group>
            <group>
              <group attrs="{'invisible':[('mission', 'not in',('interne_dep'))] }">
                <field name="biller" />
                <field name="visa" />
              </group>
              <group attrs="{'invisible':[('mission', 'not in',('interne_dep'))] }">
                <field name="l_invitation" />
                <field name="vehicule" />
              </group>
            </group>
            <group attrs="{'invisible':[('vehicule', 'not in', 'oui')] }">
              <group>
                <field name="n_chauffeur" />
                <field name="chauffeur_cont" />
              </group>
              <group>
                <field name="matricule" />
                <field name="duree_b" />
              </group>
            </group>
            <group attrs="{'invisible':[('mission', 'not in',('interne_dep'))] }">
              <group>
                <field name="frais_m" />
              </group>
              <group>
                <field name="date_f" attrs="{'invisible':[('frais_m', 'not in', 'oui')] }"/>
              </group>
            </group>
            <group attrs="{'invisible':[('mission', 'not in',('interne_ret'))] }">
              <group>
                <field name="p_financier" />
              </group>
              <group>
                <field name="date_pf" attrs="{'invisible':[('p_financier', 'not in', 'oui')] }" />
              </group>
            </group>
            <group>
              <field name="objet" string="Commentaire" />
            </group>
          </sheet>
          <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="message_ids" widget="mail_thread"/>
          </div>
        </form>
      </field>
    </record>

    <!-- Mession interne arrivé -->
    <record model="ir.actions.act_window" id="mission_interne_ar_action_window">
      <field name="name">Mission étranger départ</field>
      <field name="res_model">mission.interne</field>
      <field name="view_id" ref="mission_interne_treeview"/>
      <field name="domain">[('mission', '=', 'interne_dep')]</field>
      <field name="context">{'default_mission': 'interne_dep'}</field>
      <field name="view_mode">tree,form</field>
    </record>

    <menuitem name="Mission étranger départ" id="be_mission_mission_int_arrive" parent="be_mission_interne" action="mission_interne_ar_action_window"/>

    <!-- Mession interne retour -->
    <record model="ir.actions.act_window" id="mission_interne_ret_action_window">
      <field name="name">Mission étranger retour</field>
      <field name="res_model">mission.interne</field>
      <field name="view_id" ref="mission_interne_treeview"/>
      <field name="domain">[('mission', '=', 'interne_ret')]</field>
      <field name="context">{'default_mission': 'interne_ret'}</field>
      <field name="view_mode">tree,form</field>
    </record>

    <menuitem name="Mission étranger retour" id="be_mission_mission_int_retour" parent="be_mission_interne" action="mission_interne_ret_action_window"/>

    <!-- Mession Ordinaire -->
    <!-- treeview Mission Ordinaire-->
    <record model="ir.ui.view" id="mission_ordinaire_treeview">
      <field name="name">Mission</field>
      <field name="model">mission.ordinaire</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name" />
          <field name="employee_id" />
          <field name="passport" attrs="{'invisible':[('mission', 'not in',('ordinaire_all'))]}" />
          <field name="date_creation" />
          <field name="date_exp" attrs="{'invisible':[('mission', 'not in',('ordinaire_all'))]}" />
          <field name="o_mission" attrs="{'invisible':[('mission', 'not in',('ordinaire_all'))]}" />
          <field name="mission" invisible="1" />
        </tree>
      </field>
    </record>

    <!-- form view Mission ordinaire -->
    <record id="mission_form_view_ordinaire" model="ir.ui.view">
      <field name="name">mission_view_form</field>
      <field name="model">mission.ordinaire</field>
      <field name="arch" type="xml">
        <form string="Mission">
          <field name="mission" invisible="1" />
          <sheet>
            <div class="oe_title">
              <h1>
                <field name="name" readonly="1"/>
              </h1>
            </div>
            <group>
              <group>
                <field name="employee_id" />
                <field name="passport" />
                <field name="test_c" />
                <field name="date_c" attrs="{'invisible':[('test_c', 'not in',('oui'))] }"/>
                <field name="o_mission" attrs="{'invisible':[('mission', 'not in',('ordinaire_all'))] }"/>
                <field name="date_mission" attrs="{'invisible':[('o_mission', 'not in',('oui'))] }"/>
              </group>
              <group>
                <field name="date_creation" />
                <field name="date_exp" />
                <field name="vehicule" />

              </group>
            </group>
            <group attrs="{'invisible':[('vehicule', 'not in', 'oui')] }">
              <group>
                <field name="n_chauffeur" />
                <field name="chauffeur_cont" />
                <field name="p_carburant" />
                <field name="p_financier" />
              </group>
              <group>
                <field name="matricule" />
                <field name="duree_b" />
                <field name="date_p_carburant" attrs="{'invisible':[('p_carburant', 'not in', 'oui')] }" />
                <field name="date_pf" attrs="{'invisible':[('p_financier', 'not in', 'oui')] }" />
              </group>
            </group>
            <group attrs="{'invisible':[('mission', 'not in',('ordinaire_all'))] }">
              <group>
                <field name="frais_m" />
                <field name="equipement"/>
              </group>
              <group>
                <field name="date_f" attrs="{'invisible':[('frais_m', 'not in', 'oui')] }"/>
                <field name="equipement" attrs="{'invisible':[('equipement', 'not in', 'oui')] }"/>
              </group>
            </group>
            <group attrs="{'invisible':[('mission', 'not in',('ordinaire_ret'))] }">
              <group>
                <field name="p_financier" />
                <field name="p_equipement" />
              </group>
              <group>
                <field name="date_pf" attrs="{'invisible':[('p_financier', 'not in', 'oui')] }" />
                <field name="date_p_eq" attrs="{'invisible':[('p_equipement', 'not in', 'oui')] }" />

              </group>
            </group>
            <group>
              <field name="objet" string="Commentaire" />
            </group>
          </sheet>
          <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="message_ids" widget="mail_thread"/>
          </div>
        </form>
      </field>
    </record>

    <!-- Mession ordinaire arrivé -->
    <record model="ir.actions.act_window" id="mission_ordinaire_ar_action_window">
      <field name="name">Mission ordinaire départ</field>
      <field name="res_model">mission.ordinaire</field>
      <field name="view_id" ref="mission_ordinaire_treeview"/>
      <field name="domain">[('mission', '=', 'ordinaire_all')]</field>
      <field name="context">{'default_mission': 'ordinaire_all'}</field>
      <field name="view_mode">tree,form</field>
    </record>

    <menuitem name="Mission ordinaire départ" id="be_mission_mission_ord_arrive" parent="be_mission_ordinaire" action="mission_ordinaire_ar_action_window"/>

    <!-- Mession ordinaire retour -->
    <record model="ir.actions.act_window" id="mission_ordinaire_ret_action_window">
      <field name="name">Mission ordinaire retour</field>
      <field name="res_model">mission.ordinaire</field>
      <field name="view_id" ref="mission_interne_treeview"/>
      <field name="domain">[('mission', '=', 'ordinaire_ret')]</field>
      <field name="context">{'default_mission': 'ordinaire_ret'}</field>
      <field name="view_mode">tree,form</field>
    </record>

    <menuitem name="Mission ordinaire retour" id="be_mission_mission_ord_retour" parent="be_mission_ordinaire" action="mission_ordinaire_ret_action_window"/>

    <!-- Reporting Ticket -->
    <!-- Treeview Reporting Ticket -->
    <record model="ir.ui.view" id="mission_reporting_ticket_treeview">
      <field name="name">Reporting</field>
      <field name="model">reporting.ticket</field>
      <field name="arch" type="xml">
        <tree>
          <field name="currency_id" invisible="1"/>
          <field name="name" />
          <field name="employee_id" />
          <field name="date_v" />
          <field name="trajet" />
          <field name="nature"/>
          <field name="montant_b" widget="monetary"/>
          <field name="montant_bm" widget="monetary"/>
          <field name="montant_bmt" widget="monetary"/>
          <field name="montant_total" sum="Total" widget="monetary"/>
        </tree>
      </field>
    </record>

    <!-- form view Reporting ticket -->
    <record id="form_view_reporting_ticket" model="ir.ui.view">
      <field name="name">reporting_view_form</field>
      <field name="model">reporting.ticket</field>
      <field name="arch" type="xml">
        <form string="Reporting">
        <sheet>
          <div class="oe_title">
              <h1>
                <field name="name" readonly="1"/>
              </h1>
            </div>
          <group>
            <group>
              <field name="employee_id"/>
              <field name="trajet"/>
              <field name="nature"/>
            </group>
            <group>
              <field name="date_v"/>
              <field name="date_r"/>

            </group>
          </group>
          <group>
            <group></group>
            <group class="oe_subtotal_footer">
              <field name="montant_b" widget="monetary"/>
              <field name="montant_bm" widget="monetary"/>
              <field name="montant_bmt" widget="monetary"/>
              <field name="montant_total" widget="monetary"/>
            </group>
            <field name="currency_id" invisible="1"/>
          </group>
        </sheet>
          <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="message_ids" widget="mail_thread"/>
          </div>
        </form>
      </field>
    </record>

    <!-- action reporting ticket -->
    <record model="ir.actions.act_window" id="reporting_ticket_action_window">
      <field name="name">Frais billet avion</field>
      <field name="res_model">reporting.ticket</field>
      <field name="view_id" ref="mission_reporting_ticket_treeview"/>
      <field name="view_mode">tree,form</field>
    </record>

    <menuitem name="Frais billet avion" id="be_menu_reportin_ticket" parent="be_mission_report_teckit" action="reporting_ticket_action_window"/>

  </data>
</odoo>